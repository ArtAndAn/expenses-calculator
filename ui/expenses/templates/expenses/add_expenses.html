{% extends 'base.html' %}

{% block title %}Add new expenses{% endblock %}

{% block body %}
<div class="page-content">
    <h1>Add new expenses</h1>
    <hr>
    <form id="expenses_form">
        <div id="expenses_fields">
            <div class="expenses-form-line">
            <label for="category-select" class="expenses-form-text">Select category:</label>
            <select class="form-select px-2 py-0" id="category-select" name="category">
                <option>Shop</option>
                <option>Market</option>
                <option>Pharmacy</option>
                <option>Gym</option>
            </select>
            <label for="amount" class="expenses-form-text">Enter amount:</label>
            <input type="number" id="amount" placeholder="0.00" step="0.01" min="0" max="100000" name="spend"/>
            <label for="date" class="expenses-form-text">Enter date:</label>
            <input type="date" id="date" name="date"/>
        </div>
        </div>
        <div class="add_buttons">
            <button type="button" class="more-button mb-3" id="add_expenses_field">+ Add line</button>
            <button type="button" class="more-button mb-3" data-bs-toggle="modal"
                    data-bs-target="#add_category">
                + Add categories
            </button>
        </div>
        <button type="submit" class="link">Confirm expenses</button>
    </form>
    <hr>
    <div class="modal fade" id="add_category" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content popup_content">
                <div class="modal-header popup_border">
                    <h5 class="modal-title popup_title" id="exampleModalLabel">Add category</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <hr class="popup_hr">
                <div class="modal-body popup_border">
                    <form id="new_category">
                        {% csrf_token %}
                        <input type="text" id="form-category" name="category" class="form-control popup_input"
                               placeholder="Enter category name:" required/>
                    </form>
                    <button id="add_category_field" type="button" class="more-button my-3">+ Add more categories
                    </button>
                </div>
                <hr class="popup_hr">
                <div class="modal-footer popup_border">
                    <button type="button" class="link popup_btn_close" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="link" id="send_category">Save changes</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    authorized_page()
    add_category_field()
    add_expenses_field()
    send_category()
</script>
{% endblock %}